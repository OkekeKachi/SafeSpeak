<%- include('partials/navbar') %>
<header class="resources-header">
    <div class="container">
        <h1>Report an Incident</h1>
        <p>Your go-to page for tools, guides, and support in addressing Sexual and Gender-Based Violence.</p>
        <a href="#resources-list" class="btn-primary">Report</a>
    </div>
</header><br><br>


<section class="reports-page white">
    <div class="container" style="padding: 30px;">
        <h2 class="center-align section-title">Report an Incident</h2>
        <p class="center-align section-text">
            Your report is crucial in creating a safer community. Please provide as much detail as possible.
        </p>

        <form class="report-form row" action="/submit-report" method="POST">
            <!-- Name Field -->
             <% if(error){ %>
                <span class="red"><%=error%></span>
            <% } %>
            <div class="input-field col s12 col s12">
                <i class="material-icons prefix">account_circle</i>
                <input id="title" name="title" type="text" class="validate">
                <label for="name">Title</label>
            </div>

            
            <!-- Incident Description -->
            <div class="input-field col s12">
                <i class="material-icons prefix">description</i>
                <textarea id="description" name="description" class="materialize-textarea" required></textarea>
                <label for="description">Incident Description</label>
            </div>

            <!-- Incident Type -->
            <div class="input-field col s12">
                <i class="material-icons prefix">report</i>
                <select id="incident-type" name="incidentType" required>
                    <option value="" disabled selected>Choose an Incident Type</option>
                    <option value="harassment">Harassment</option>
                    <option value="violence">Violence</option>
                    <option value="discrimination">Discrimination</option>
                    <option value="other">Other</option>
                </select>
                <label for="incident-type">Type of Incident</label>
            </div>

            <div class="input-field col s12">
                <i class="material-icons prefix">map</i>
                <input id="location" name="location" type="text" class="validate black-text">
                <label for="email">Location</label>
                <span class="helper-text" data-error="Please enter a valid email" data-success="Looks good!"></span>
            </div>

            <!-- Date of Incident -->
            <div class="input-field col s12">
                <i class="material-icons prefix">date_range</i>
                <input id="date" name="dateOfIncident" type="text" class="datepicker" required>
                <label for="date">Date of Incident</label>
            </div>

            <!-- Submit Button -->
            <div class="center-align">
                <button type="submit" class="btn waves-effect waves-light blue">
                    Submit Report <i class="material-icons right">send</i>
                </button>
            </div>
        </form>
    </div>
</section>



<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Initialize Select Dropdown
        const selectElems = document.querySelectorAll('select');
        M.FormSelect.init(selectElems);

        // Initialize Date Picker
        const dateElems = document.querySelectorAll('.datepicker');
        M.Datepicker.init(dateElems, {
            format: 'yyyy-mm-dd', // Adjust the format as needed
            showClearBtn: true,
        });
    });
</script>


<%- include('partials/footer') %>